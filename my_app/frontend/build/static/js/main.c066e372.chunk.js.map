{"version":3,"sources":["components/ItemTotal.js","components/ShowAlert.js","components/Spinner.js","components/SearchKey.js","components/MainMenu.js","components/SearchedMC.js","components/SupplierInfo.js","components/MfrSelection.js","components/Misc.js","components/ShowSpinner.js","AppBooking.js","Home.js","components/UserProfile.js","App.js","index.js"],"names":["ItemTotal","props","items","mcTable","addMC","currentSU","currentMF","editMode","setDisplayAlert","ship","setShip","poList","totalShip","totalInspect","totalSample","reset","handleDeletePO","setPOList","aqlTable","handleHighlight","checkedState","setCheckedState","deleteShipMulti","useState","mc","setMC","summary","setSummary","shipSummary","setShipSummary","useEffect","listener","event","code","preventDefault","document","getElementById","click","addEventListener","removeEventListener","el","sortTable","sort","order","nShip","a","b","po_no","item_no","sortSummaryTable","nSum","handleInputChange","value","target","displayAlert","message","position","timeout","color","handleInspQty","index","findIndex","r","newEntry","find","inspect_qty","parseInt","handleSelectAll","allCheckboxes","getElementsByName","i","length","checked","handleClearAll","className","type","id","name","justify","placeholder","onChange","readOnly","onClick","inMCTable","x","mc_no","inItems","duplicate","validMF","su_no","mf_no","validateMC","map","customer","order_qty","ship_qty","Math","round","nSummary","cShip","filter","v","indexOf","forEach","u","reduce","prev","curr","sample_qty","push","toggleSummary","elements","getElementsByClassName","rec","del","deleteRows","onInput","e","toUpperCase","updatedCheckedState","item","handleOnChange","min","max","total_qty","aql","size_start","size_end","tShip","nPO","indexPO","newEntryPO","deleteRow","ShowAlert","alert","class_var","concat","Spinner","promiseInProgress","usePromiseTracker","area","spinnerMessage","style","marginTop","width","height","display","justifyContent","alignItems","fontWeight","SearchKey","checkDuplicateID","inspectionID","setInspectionID","clearScreen","searchInspByMC","inspType","showFull","handleKeyChange","booking_no","autoFocus","disabled","insp_type","insp_type_long","found","MainMenu","handleSave","handleDelete","handleSearch","printReport","setEditMode","userProfile","misc","oldMC","submitted","editable","undefined","ignore_submit","handleClick","current","SearchedMC","searchedMC","setShowSearchedMC","newSearchedMC","main","_id","SupplierInfo","currentSUName","currentMFName","setSelectingSupplier","setShowFull","setMFRsearch","setEntryPosition","toLowerCase","MfrSelection","partyTable","setCurrentSU","setCurrentMF","setCurrentSUName","setCurrentMFName","selectingSupplier","mfrSearch","getMCtable","entryPosition","su","mf","su_name","mf_name","textTransform","onKeyDown","key","partyLen","y","SU_NAME","SU","MF","MF_NAME","search","Misc","setInspectionDate","inspectionDate","setMisc","qaName","productCategories","isSQA","setISsqa","d","Date","userTimezoneOffset","getTimezoneOffset","getTime","toISOString","substring","handleChange","element","yes_or_no","newMisc","product_type","governance_inspection","ship_window","qa_type","qa_name","sqa_iteration","cap","mqa","sqa","product_category","label","console","log","dateFormat","selected","dateString","stringToDate","date","dateToString","category","ShowSpinner","App","setItems","showSearchedMC","setAlert","setMCTable","setUserProfile","setSearchedMC","setPartyTable","mfList","setMfList","setAqlTable","setMain","updateHistory","setUpdateHistory","factoryMasterTable","setfactoryMasterTable","setQAname","setProductCategories","setInspType","setTotalShip","setTotalInspect","setTotalSample","initLoad","useRef","currentSearchedItem","root","querySelector","userAgent","navigator","test","setProperty","includes","trackPromise","axios","url","method","headers","api","then","response","data","catch","error","trim","j","scroll_y","len","first_found","backgroundColor","getElementsByTagName","innerHTML","scrollTo","scrollHeight","scrollBy","children","oList","nShipQty","nInspectQty","nSampleQty","handleSupplierInfo","newMC","aItems","nItems","nShipItems","handleAddItems","item_desc","setTimeout","JSON","stringify","response_mf","inspection_date","new_checkState","Array","fill","err","status","window","location","delay","ms","Promise","res","handleSessionTimeOut","convertToLocal","t","toTimeString","local","toDateString","local_end","saveAndEdit","itemsTotal","folder","inspection_id","email","localTime","now","errMessage","confirm","file_name","draft","fetch","reportType","blob","URL","createObjectURL","Blob","link","createElement","href","setAttribute","body","appendChild","parentNode","removeChild","uniqueItem1","uniqueShip1","uniqueShipMCs","n","Home","src","alt","border","UserProfile","photoURL","setPhotoURL","databaseSchema","userName","spinnerOn","setSpinnerOn","bookingOn","setBookingOn","homeOn","setHomeOn","to","report_period","localDate","daysUntilNextSunday","getDay","nextSundayDate","month","getMonth","day","getDate","toString","padStart","getReportStartDate","nextSaturdayDate","nextNextSaturdayDate","getReportEndDate","localStorage","clear","path","env","environment","AppBooking","ReactDOM","render"],"mappings":"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","file":"static/js/main.c066e372.chunk.js","sourcesContent":["import { React, useEffect, useState } from \"react\"\n\nconst ItemTotal = props => {\n  const { items, mcTable, addMC, currentSU, currentMF, editMode, setDisplayAlert, ship, setShip, poList, totalShip, totalInspect, totalSample, reset,  handleDeletePO, setPOList, aqlTable, handleHighlight,\n  checkedState, setCheckedState, deleteShipMulti } = props\n\n  const [mc, setMC] = useState(\"\")\n  const [summary, setSummary] = useState(true)\n  const [shipSummary, setShipSummary] = useState([])    \n \n\n  useEffect(() => {\n    const listener = event => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        //console.log(\"Enter key was pressed. Run your function.\");\n        event.preventDefault()\n        document.getElementById(\"itemTable_MCBtn\").click()\n      }\n    }\n\n    if (document.getElementById(\"itemTable_MC\")) document.getElementById(\"itemTable_MC\").addEventListener(\"keydown\", listener)\n\n    return () => {\n      if (document.getElementById(\"itemTable_MC\")) document.getElementById(\"itemTable_MC\").removeEventListener(\"keydown\", listener)\n    }\n\n  }, [])\n\n  /* Item Total */\n\n  useEffect(() => {\n    const listener = event => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        //console.log(\"Enter key was pressed. Run your function.\");\n        event.preventDefault()\n        document.getElementById(\"highLightItemBtn\").click()\n      }\n    }\n    var el = document.getElementById(\"itemTotal_searchString\")\n\n    if (el) {\n      el.addEventListener(\"keydown\", listener)\n      return () => {\n        el.removeEventListener(\"keydown\", listener)\n      }\n    }\n  }, [])\n\n  const sortTable = (sort, order) => {\n    handleHighlight(\"\")\n    const nShip = [...ship]\n    /*table = document.getElementById(\"itemTable\") */\n    if (sort === 0 && order === \"asc\") {\n      nShip.sort(function (a, b) {\n        return a.po_no > b.po_no ? 1 : -1\n      })\n    } else if (sort === 0 && order === \"desc\") {\n      nShip.sort(function (a, b) {\n        return a.po_no < b.po_no ? 1 : -1\n      })\n    } else if (sort === 1 && order === \"asc\") {\n      nShip.sort(function (a, b) {\n        return a.item_no > b.item_no ? 1 : -1\n      })\n    } else if (sort === 1 && order === \"desc\") {\n      nShip.sort(function (a, b) {\n        return a.item_no < b.item_no ? 1 : -1\n      })\n    }\n    setShip(nShip)\n  }\n\n  const sortSummaryTable = (sort, order) => {\n    handleHighlight(\"\")\n    const nSum = [...shipSummary]\n    /*table = document.getElementById(\"itemTable\") */\n    if (sort === 0 && order === \"asc\") {\n      nSum.sort(function (a, b) {\n        return a.item_no > b.item_no ? 1 : -1\n      })\n    } else if (sort === 0 && order === \"desc\") {\n      nSum.sort(function (a, b) {\n        return a.item_no < b.item_no ? 1 : -1\n      })\n    }\n    setShipSummary(nSum)\n  }\n\n  //* add new MC\n\n  const handleInputChange = event => {\n    const value = event.target.value\n    setMC(value)\n  }\n\n  const validateMC = () => {\n    //event.preventDefault()\n    const inMCTable = mcTable.find(x => x.mc_no === mc)\n    const inItems = items.find(x => x.mc_no === mc)\n    const duplicate = ship.find(x => x.mc_no === mc)\n    const validMF = mcTable.find(x => x.mc_no === mc && x.su_no === currentSU && x.mf_no === currentMF)\n\n    if (!inMCTable) {\n      setDisplayAlert({ message: \"This MC is not found in forthcoming or may not belong to this manufacturer!\", position: 1, timeout: 4000, color: \"alert__red\" })\n    } else if (!validMF) {\n      displayAlert(\"This MC seems not for this manufacturer!\")\n    } else if (duplicate) {\n      displayAlert(\"MC was already entered in the ship item list, please check ! \")\n    } else if (inMCTable || !inItems) {\n      addMC(mc)\n    }\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 1, timeout: 1500, color: \"alert__red\" })\n  }\n\n  const handleShipQty = (po_no, item_no) => event => {\n    let value = event.target.value\n\n    if (value === \"\") {\n      return\n    }\n    if (parseInt(value) > 30000) {\n      value = 30000\n      setDisplayAlert({ message: \"Number of ship units is too large!\", position: 1, timeout: 3000, color: \"alert__red\" })\n    }\n\n    let nShip = [...ship]\n    const index = nShip.findIndex(r => r.po_no === po_no && r.item_no === item_no)\n    const newEntry = nShip.find(r => r.po_no === po_no && r.item_no === item_no)\n    nShip[index] = { ...newEntry, ship_qty: parseInt(value) }\n    //console.log(\"handleShipQty\", nShip)\n\n    // recalculate sample\n    const total_qty = nShip.reduce((prev, curr) => prev + parseInt(curr.ship_qty), 0) // total new ship qty\n    const aql = aqlTable.filter(x => x.size_start <= total_qty && x.size_end >= total_qty)\n    nShip = nShip.map(x => ({ ...x, sample_qty: Math.round((x.ship_qty / total_qty) * aql[0][\"25sample\"]), inspect_qty: Math.round((x.ship_qty / total_qty) * aql[0][\"25sample\"]) }))\n\n    setShip(nShip)\n\n    const tShip = nShip.filter(x => x.po_no === po_no).reduce((prev, curr) => prev + parseInt(curr.ship_qty), 0) // total new ship qty\n    const nPO = [...poList]\n    //console.log(\"nPO\", nPO)\n    const indexPO = nPO.findIndex(r => r.po_no === po_no)\n    const newEntryPO = nPO.find(r => r.po_no === po_no)\n    nPO[indexPO] = { ...newEntryPO, ship_qty: tShip }\n    setPOList(nPO)\n  }\n\n  const handleInspQty = (po_no, item_no) => event => {\n    let value = event.target.value\n    const nShip = [...ship]\n    const index = nShip.findIndex(r => r.po_no === po_no && r.item_no === item_no)\n    const newEntry = nShip.find(r => r.po_no === po_no && r.item_no === item_no)\n    nShip[index] = { ...newEntry, inspect_qty: parseInt(value) }\n    setShip(nShip)\n  }\n\n  const toggleSummary = () => {\n    // reconstruct PO based on ship rec (existing and newly added)\n\n    let nSummary = []\n    let cShip = [...ship]\n    let allItems = cShip.map(x => x.item_no)\n    let uniqueItems = allItems.filter((v, i, a) => a.indexOf(v) === i)\n\n    uniqueItems.forEach(function (u) {\n      const order_qty = cShip.filter(x => x.item_no === u).reduce((prev, curr) => prev + parseInt(curr.order_qty), 0)\n      const ship_qty = cShip.filter(x => x.item_no === u).reduce((prev, curr) => prev + parseInt(curr.ship_qty), 0)\n      const sample_qty = cShip.filter(x => x.item_no === u).reduce((prev, curr) => prev + parseInt(curr.sample_qty), 0)\n      const inspect_qty = cShip.filter(x => x.item_no === u).reduce((prev, curr) => prev + parseInt(curr.inspect_qty), 0)\n      nSummary.push({ item_no: u, order_qty, ship_qty, sample_qty, inspect_qty })\n    })\n\n    setShipSummary(nSummary)\n    setSummary(prev => !prev)\n  }\n\n\n  const handleToggle = () => {\n    let toggle = document.getElementsByName(\"selectToggle\")\n    if (toggle[0].checked) {  // control checked, it forces to check all rows\n      handleSelectAll()\n    }\n    else {\n      handleClearAll()\n    }\n  }  \n  \n  const handleSelectAll = () => {\n    let allCheckboxes = document.getElementsByName(\"selectRow\")\n    for (var i = 0; i < allCheckboxes.length; i++) {\n      allCheckboxes[i].checked = true\n      checkedState[i] = true\n    }\n    setCheckedState(checkedState)\n  }\n\n  const handleClearAll = () => {\n    let allCheckboxes = document.getElementsByName(\"selectRow\")    \n    for (var i = 0; i < allCheckboxes.length; i++) {\n      allCheckboxes[i].checked = false\n      checkedState[i] = false\n    }\n    setCheckedState(checkedState)\n  }\n\n  const handleOnChange = position => {    \n    const updatedCheckedState = checkedState.map((item, index) => (index === position ? !item : item))\n    setCheckedState(updatedCheckedState)\n  }\n  \n  const deleteRows = () => {          \n    \n    let nShip = [...ship]    \n    var elements = document.getElementsByClassName(\"clickrow\");\n    for (var i = 0; i < elements.length; i++) {\n      if (checkedState[i]) { \n          let rec = nShip[i]\n          rec = {...rec, del : true}  \n          nShip[i] = rec\n      }\n    }     \n    nShip = nShip.filter(x=>!x.del)\n    deleteShipMulti(nShip)               \n    handleClearAll()\n\n  }\n\n  const deleteRow = (item_no, po_no) => {          \n    let nShip = ship.filter(x => !(x.item_no === item_no && x.po_no === po_no))       \n    deleteShipMulti(nShip)                  \n  }\n\n  return (\n    // present the table\n\n    <div className=\"itemTable_2col\">\n      <div>\n        <div className=\"itemTable_Section\">\n          <div>Add MC:</div>\n          &nbsp;\n          <div>\n            {editMode ? \n            <input type=\"text\" id=\"itemTable_MC\" name=\"itemTable_MC\" justify=\"left\" placeholder=\"Additional MC here\" onChange={handleInputChange} /> \n            : \n            <input type=\"text\" id=\"itemTable_MC\" name=\"itemTable_MC\" justify=\"left\" placeholder=\"Include additional MC here\" readOnly onChange={handleInputChange} />}</div>\n          &nbsp;&nbsp;\n          <div>\n            {editMode ? (\n              <i\n                id=\"itemTable_MCBtn\"\n                className=\"fa fa-plus clickable\"\n                onClick={() => {\n                  validateMC(mc)\n                }}\n              ></i>\n            ) : null}\n          </div>\n        </div>\n        <div className=\"itemTable_Header\">\n          <div>PO</div>\n          <div>DIV</div>\n          <div>Order Qty</div>\n          <div>Ship Qty</div>\n          <div>%Ship</div>\n          <div>Delete</div>\n          <div></div>\n        </div>\n\n        <div id=\"itemTableScroller\" className=\"itemTable_GridContainer\">\n          {!poList\n            ? null\n            : poList.map((x, index) => (\n                <div key={index} className=\"itemTable_Detail\">\n                  <div>{x.po_no}</div>\n                  <div>{x.customer}</div>\n                  <div>{x.order_qty}</div>\n                  <div>{x.ship_qty}</div>\n                  <div>{Math.round((x.ship_qty / x.order_qty) * 100)}%</div>\n                  <div>\n                    {/* <div>{editMode ? <button onClick={e => deletePO(x.po_no)}>x</button> : null}</div> */}\n                    {editMode ? (\n                      <i\n                        className=\"fa fa-times clickable\"\n                        onClick={() => {\n                          handleDeletePO(x.mc_no, x.po_no)\n                        }}\n                      ></i>\n                    ) : null}\n                  </div>\n                </div>\n              ))}\n        </div>\n      </div>\n      <div></div>\n      <div>\n        <div className=\"itemTotal_Section\">    \n        \n          {editMode ? (\n            <div>  \n              {summary ? \"Summary\" : \"Edit\"}\n              {editMode ? (\n                <i\n                  className=\"fa fa-refresh itemTotal_undo_color clickable \"\n                  onClick={() => {\n                    toggleSummary()\n                    handleHighlight(\"\")\n                  }}\n                ></i>\n              ) : null}\n            </div>\n          ) : <div></div>}\n\n          {editMode ? (\n            <div>\n              Multi Del&nbsp;\n              <i\n                className=\"fa fa-times itemTotal_refresh_color clickable\"\n                onClick={() => {\n                  deleteRows()\n                }}\n              ></i>\n            </div>\n          ) : <div></div>}\n\n\n          {editMode ? (\n            <div>\n              Reset Inspect &nbsp;\n              <i\n                className=\"fa fa-refresh itemTotal_refresh_color clickable\"\n                onClick={() => {\n                  reset()\n                }}\n              ></i>\n            </div>\n          ) : <div></div>}\n                    \n          <div>\n            Highlight \n            &nbsp;                     \n            <input type=\"text\" name=\"itemTotal_searchString\" id=\"itemTotal_searchString\" justify=\"left\" onInput={e => (e.target.value = (\"\" + e.target.value).toUpperCase())} placeholder=\"Enter item#\" />\n            &nbsp;                    \n            <i\n              className=\"fa fa-search clickable\"\n              id=\"highLightItemBtn\"\n              onClick={() => {\n                handleHighlight(document.getElementById(\"itemTotal_searchString\").value)\n              }}\n            ></i>\n          </div>\n\n        </div>\n\n        {summary ? (\n          <div>\n            <div className=\"itemTotal_Header\">\n              <div>\n                {editMode ? (\n                <input type=\"checkbox\" name=\"selectToggle\" onChange={() => handleToggle()}  /> \n                ):null}        \n              </div>\n              <div>\n                PO\n                <i\n                  className=\"fa fa-chevron-circle-up clickable\"\n                  onClick={() => {\n                    sortTable(0, \"asc\")\n                  }}\n                ></i>\n                &nbsp;\n                <i\n                  className=\"fa fa-chevron-circle-down clickable\"\n                  onClick={() => {\n                    sortTable(0, \"desc\")\n                  }}\n                ></i>\n              </div>\n              <div>\n                By Item\n                <i\n                  className=\"fa fa-chevron-circle-up clickable\"\n                  onClick={() => {\n                    sortTable(1, \"asc\")\n                  }}\n                ></i>\n                &nbsp;\n                <i\n                  className=\"fa fa-chevron-circle-down clickable\"\n                  onClick={() => {\n                    sortTable(1, \"desc\")\n                  }}\n                ></i>\n              </div>\n              <div>Ship</div>\n              <div>Sample</div>\n              <div>Inspect</div>\n              <div>Delete</div>\n            </div>\n\n            <div id=\"scroller\" className=\"itemTotal_GridContainer\">\n              {!ship\n                ? null\n                : ship.map((x, index) => (\n                      <div key={index} className=\"itemTotal_Detail\">\n                         <div>\n                            {editMode ? (                                               \n                              <input type=\"checkbox\" name=\"selectRow\" onChange={() => handleOnChange(index)} />          \n                            ):null}        \n                         </div>                 \n                      <div>{x.po_no}</div>\n                      <div>{x.item_no}</div>\n                      <div>\n                        <input type=\"number\" id=\"itemTotal_shipQty\" name=\"itemTotal_shipQty\" value={x.ship_qty || 1} min=\"1\" max=\"30000\" onChange={handleShipQty(x.po_no, x.item_no)} readOnly={editMode ? \"\" : \"readOnly\"} />\n                      </div>\n                      <div>{x.sample_qty}</div>\n\n                      <div>\n                        <input type=\"number\" id=\"itemTotal_InspectQty\" name=\"itemTotal_InspectQty\" value={x.inspect_qty || 1} min=\"1\" max=\"30000\" onChange={handleInspQty(x.po_no, x.item_no)} readOnly={editMode ? \"\" : \"readOnly\"} />\n                      </div>\n\n                      <div>\n                        {editMode ? (\n                          <i\n                            className=\"fa fa-times clickable clickrow\"\n                            onClick={() => {\n                              deleteRow(x.item_no, x.po_no)\n                            }}\n                          ></i>\n                        ) : null}\n                      </div>\n                    </div>\n                  ))}\n            </div>\n          </div>\n        ) : (\n          <div>\n            <div className=\"itemTotal_Header2\">\n              <div></div>\n              <div>\n                By Item\n                <i\n                  className=\"fa fa-chevron-circle-up clickable\"\n                  onClick={() => {\n                    sortSummaryTable(0, \"asc\")\n                  }}\n                ></i>\n                &nbsp;\n                <i\n                  className=\"fa fa-chevron-circle-down clickable\"\n                  onClick={() => {\n                    sortSummaryTable(0, \"desc\")\n                  }}\n                ></i>\n              </div>\n              <div>Ship</div>\n              <div>Sample</div>\n              <div>Inspect</div>\n              <div></div>\n              <div></div>\n            </div>\n\n            <div id=\"scroller\" className=\"itemTotal_GridContainer\">\n              {!shipSummary\n                ? null\n                : shipSummary.map((x, index) => (\n                    <div key={index} className=\"itemTotal_Detail\">\n                      <div></div>\n                      <div>{x.item_no}</div>\n                      <div>{x.ship_qty}</div>\n                      <div>{x.sample_qty}</div>\n                      <div>{x.inspect_qty}</div>\n                      <div></div>\n                    </div>\n                  ))}\n            </div>\n          </div>\n        )}\n\n        {summary ? (\n          <div>\n            <div className=\"itemTotal_Header\">\n              <div></div>\n              <div></div>\n              <div> Total :</div>\n              <div>{totalShip}</div>\n              <div>{totalSample}</div>\n              <div className={totalSample !== totalInspect ? \"highlightSection\" : null}>{totalInspect}</div>              \n              <div></div>\n            </div>\n          </div>\n        ) : (\n          <div>\n            <div className=\"itemTotal_Header2\">\n              <div></div>\n              <div> Total :</div>\n              <div>{totalShip}</div>\n              <div>{totalSample}</div>\n              <div className={totalSample !== totalInspect ? \"highlightSection\" : null}>{totalInspect}</div>\n              <div></div>\n              <div></div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default ItemTotal\n","import React from \"react\"\n\nconst ShowAlert = props => {\n  const alert = props.alert\n  const class_var = \"alert \".concat(alert.color)\n\n  return (\n    // present the table\n    <h5 className={class_var}>{alert.message}</h5>\n  )\n}\nexport default ShowAlert\n","import React from \"react\"\nimport { usePromiseTracker } from \"react-promise-tracker\"\nimport   {Bars} from \"react-loader-spinner\"\n\nexport const Spinner = props => {\n  const { promiseInProgress } = usePromiseTracker({ area: props.area })\n  const { spinnerMessage } = props\n\n  return (\n    promiseInProgress && (\n      <div\n        style={{\n          marginTop: \"0.5rem\",\n          width: \"100%\",\n          height: \"30\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          color: \"green\",\n          fontWeight: \"bold\"\n        }}\n      >\n        {/* <Loader type=\"ThreeDots\" color=\"#2BAD60\" height=\"50\" width=\"100\" /> */}\n        {/* <Loader type=\"Circles\" color=\"rgba(129, 160, 250, 255)\" height=\"40\" width=\"100\" /> */}\n        {spinnerMessage}\n        {/* <ThreeDots color=\"green\" height=\"30\" width=\"100\" /> */}\n        <Bars color=\"green\" height={30} width={100} />\n      </div>\n    )\n  )\n}\n\n","import React, { Fragment } from \"react\"\n//import axios from \"axios\"\nimport  {Spinner}  from \"./Spinner\"\n\nconst SearchKey = props => {\n  const { checkDuplicateID, mcTable, setDisplayAlert, inspectionID, setInspectionID, clearScreen, searchInspByMC, editMode, inspType, showFull } = props\n\n  const handleKeyChange = event => {\n    const id = event.target.id\n    const { value } = event.target\n\n    switch (id) {\n      case \"searchKey_mc\":\n        setInspectionID({ ...inspectionID, mc: value })\n        if (value.length >= 3) searchInspByMC(value)\n        // pass first few characters of MC entered\n        else clearScreen()\n        break\n      case \"searchKey_bookingNo\":\n        setInspectionID({ ...inspectionID, booking_no: value })\n        break\n      case \"searchKey_type\":\n        setInspectionID({ ...inspectionID, type: value })\n        break\n      default:\n        break\n    }\n  }\n\n  const validateMC = id => {\n    const found = mcTable.find(x => x.mc_no === id.mc)\n    clearScreen()\n\n    if (!found) {\n      displayAlert(\"This MC doesn't exists or it doesn't belong to this manufacturer!\")\n    }        \n    else {\n      checkDuplicateID(id)\n    }\n  }\n\n  function isInvalidID() {\n    if (inspectionID.mc === \"\" || inspectionID.booking_no === \"Select\" || inspectionID.booking_no === \"\" || inspectionID.type === \"Select\") return true\n    else return false\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 0, timeout: 3000, color: \"alert__red\" })\n  }\n\n  return (\n    <Fragment>\n      <div className=\"searchKey\">\n        <div className=\"searchKey_pair\">\n          <label>MC# : </label>\n          <input autoFocus type=\"text\" name=\"searchKey_mc\" id=\"searchKey_mc\" onChange={handleKeyChange} readOnly={showFull ? \"readOnly\" : \"\"} />\n        </div>\n        <div className=\"searchKey_pair\">\n          <label>Booking # : </label>\n          <input type=\"number\" name=\"searchKey_bookingNo\" id=\"searchKey_bookingNo\" placeholder=\"Number\" min=\"1\" max=\"9\" onChange={handleKeyChange} readOnly={showFull ? \"readOnly\" : \"\"} />\n        </div>\n        <div className=\"searchKey_pair\">\n          <label>Type : </label>\n          <select name=\"searchKey_type\" id=\"searchKey_type\" onChange={handleKeyChange}>\n            <option value=\"Select\" disabled={showFull ? \"disabled\" : \"\"} >Select</option>\n            {inspType &&\n              inspType.map(x => (\n                <option key={x.insp_type} value={x.insp_type} disabled={showFull ? \"disabled\" : \"\"}>\n                  {x.insp_type_long}\n                </option>\n              ))}\n          </select>\n        </div>\n        <div></div>\n        {!editMode ? (\n          <div>\n            {!isInvalidID() ? (\n              <div>\n                <button\n                  onClick={() => {\n                    validateMC(inspectionID)\n                  }}\n                >\n                  Create Booking\n                </button>\n              </div>\n            ) : null}\n          </div>\n        ) : null}\n      </div>\n      <Spinner area=\"searchKey\" />\n    </Fragment>\n  )\n}\n\nexport default SearchKey\n","import React, { Fragment } from \"react\"\n\nconst MainMenu = props => {\n  const { handleSave, handleDelete, handleSearch, inspectionID, printReport, editMode, setEditMode, userProfile, misc, showFull, clearScreen, setDisplayAlert, oldMC\n   } = props\n\n  const submitted = misc.submitted\n  const editable = userProfile.ignore_submit === undefined ? false : userProfile.ignore_submit\n\n  const handleClick = event => {\n    const id = event.target.id\n\n    setEditMode(false)\n\n    if (id === \"save\") {\n      submitted ? handleSave(true, false) : handleSave(false, false)\n    }\n\n    if (id === \"saveAndEdit\") {           \n      submitted ? handleSave(true, true) : handleSave(false, true)\n    }\n\n    if (id === \"edit\") {\n      // oldMC doesn't allow edit\n      if (oldMC.current) {\n        setDisplayAlert({ message: \"You can NOT edit inspecton with obsolete MC.  This is for view only !\", position: 0, timeout: 2500, color: \"alert__red\" })\n        return\n      }\n      setEditMode(true)\n    }\n\n    if (id === \"delete\") {\n      handleDelete(inspectionID)\n    }\n    if (id === \"search\") {\n      setEditMode(false)\n      handleSearch(inspectionID)\n    }\n    if (id === \"print\") {\n      printReport(\"Inspection_Report.xlsx\", false)\n    }\n    if (id === \"print_draft\") {\n      // print draft watermark\n      printReport(\"Inspection_Report.xlsx\", true)\n    }\n\n    if (id === \"cancel\") {\n      setEditMode(false)\n      clearScreen()\n    }\n  }\n  return (\n    <Fragment>\n      <div className=\"mainMenu\">\n        <div className=\"mainMenu_inspectionKey\">\n          Booking Key : &nbsp;&nbsp;          \n          {/* make below always false in case it will be used again */}\n          {(submitted || \"\") && showFull && false ? (\n            <i\n              className=\"fa fa-lock mainMenu_lock clickable\"\n              onClick={() => {\n                if (editable) {\n                  var confirm = window.confirm(\"Are you sure you want to unlock this inspeciton ? \")\n                  if (confirm === true) {\n                    handleSave(false)\n                  }\n                } else {\n                  alert(\"You have no rights to unlock this inspeciton !\")\n                }\n              }}\n            ></i>\n          ) : null}\n          {(!submitted || \"\") && showFull && false ? (\n            <i\n              className=\"fa fa-unlock mainMenu_unlock clickable\"\n              onClick={() => {\n                var confirm = window.confirm(\"Are you sure you want to submit or lock this inspeciton ? \")\n                if (confirm === true) {\n                  handleSave(true)\n                }\n              }}\n            ></i>\n          ) : null}\n        </div>\n        {editMode || \"\" ? (\n          <button id=\"saveAndEdit\" onClick={handleClick}>\n            Save &amp; Edit\n          </button>\n        ) : null}\n        {editMode || \"\" ? (\n          <button id=\"save\" onClick={handleClick}>\n            Save\n          </button>\n        ) : null}\n        {!editMode ? (\n          <button id=\"search\" onClick={handleClick}>\n            Search\n          </button>\n        ) : null}\n        {!editMode && showFull && (!submitted || editable) ? (\n          <button id=\"edit\" onClick={handleClick}>\n            Edit&nbsp;\n            {(submitted || \"\") && showFull ? <i className=\"fa fa-lock\"></i> : null}\n          </button>\n        ) : null}\n        {showFull && (!submitted || editable) ? (\n          // {editMode ? (\n          <button id=\"cancel\" onClick={handleClick}>\n            Cancel\n          </button>\n        ) : null}\n        {!editMode && submitted ? (\n          <button id=\"print\" onClick={handleClick}>\n            Print IC\n          </button>\n        ) : null}\n        {!editMode && !submitted && showFull ? (\n          <button id=\"print_draft\" onClick={handleClick}>\n            Print\n          </button>\n        ) : null}\n\n        {(showFull || \"\") && editable && showFull  ? (\n          <button id=\"delete\" onClick={handleClick} className=\"deleteButton\">\n            Delete\n          </button>\n        ) : null}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default MainMenu\n","import React, { Fragment } from \"react\"\nimport { Spinner } from \"./Spinner\"\n\nconst SearchedMC = props => {\n  const { setInspectionID, handleSearch, searchedMC, setShowSearchedMC, currentMF } = props\n\n  const newSearchedMC = []\n  for (var i = 0; i < searchedMC.length; i++) {\n    if (searchedMC[i].main[\"mf_no\"] === currentMF) {\n      newSearchedMC.push(searchedMC[i]._id)\n    }\n  }\n\n  const handleClick = id => {\n    setInspectionID(id)\n    handleSearch(id)\n    // Set search fields in SearchKey.js\n    document.getElementById(\"searchKey_mc\").value = id.mc\n    document.getElementById(\"searchKey_bookingNo\").value = id.booking_no\n    document.getElementById(\"searchKey_type\").value = id.type\n    setShowSearchedMC(false)\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      <div className=\"searchedMC\">\n        <div className=\"searchedMC_header1 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div className=\"searchedMC_detail_center\">Booking #</div>\n          <div className=\"searchedMC_detail_center\">Type</div>\n        </div>\n        <div className=\"searchedMC_header2 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div className=\"searchedMC_detail_center\">Booking #</div>\n          <div className=\"searchedMC_detail_center\">Type</div>\n        </div>\n        <div className=\"searchedMC_header3 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div className=\"searchedMC_detail_center\">Booking #</div>\n          <div className=\"searchedMC_detail_center\">Type</div>\n        </div>\n\n        {newSearchedMC.length > 0\n          ? newSearchedMC.map((x, index) => (\n              <div\n                className=\"searchedMC_detail\"\n                key={index}\n                onClick={() => {\n                  handleClick({ mc: x.mc, booking_no: x.booking_no, type: x.type })\n                }}\n              >\n                <div></div>\n                <div>{x.mc}</div>\n                <div className=\"searchedMC_detail_center\">{x.booking_no}</div>\n                <div className=\"searchedMC_detail_center\">{x.type}</div>\n              </div>\n            ))\n          : null}\n      </div>\n      <Spinner area=\"mfrSelection\" />\n    </Fragment>\n  )\n}\n\nexport default SearchedMC\n","import React, { Fragment } from \"react\"\n\nconst SupplierInfo = props => {\n  const { currentSU, currentMF, currentSUName, currentMFName, setSelectingSupplier, setShowFull, setMFRsearch,  setEntryPosition } = props\n\n  const changeSelectingSuppler = () => {\n    setMFRsearch(\"\")\n    setSelectingSupplier(true)\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      {!!currentSU ? (\n        <div className=\"supplierInfo\">\n          <button\n            onClick={() => {\n              setShowFull(false)\n              setEntryPosition(-1)                \n              changeSelectingSuppler()                          \n            }}\n          >\n            Select\n          </button>\n          <div className=\"supplierInfo_capitalize supplierInfoSU\" id=\"supplierInfo_bar\">\n            {currentSUName.toLowerCase()} ({currentSU})\n          </div>\n          <div className=\"supplierInfo_capitalize supplierInfoMF\">\n            {currentMFName.toLowerCase()} ({currentMF})\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\nexport default SupplierInfo\n","import React, { Fragment,  useState} from \"react\"\n\nconst MfrSelection = props => {\n  const { partyTable, setCurrentSU, setCurrentMF, setCurrentSUName, setCurrentMFName, selectingSupplier, setSelectingSupplier, setMFRsearch, mfrSearch, getMCtable, setEditMode } = props\n\n  const [entryPosition, setEntryPosition] = useState(-1)\n\n  const handleClick = (su, mf, su_name, mf_name) => {\n    setCurrentSU(su)\n    setCurrentMF(mf)\n    setCurrentSUName(su_name)\n    setCurrentMFName(mf_name)\n    setSelectingSupplier(false)\n    getMCtable(su, mf)\n    setEditMode(false)\n  }\n\n  const handleMFRsearch = (event)=> {\n    const { value } = event.target      \n    setMFRsearch(value.toUpperCase())\n  }\n\n  const handleKeyPressed = (event)=> {\n    \n    if ( event.key === \"ArrowDown\" ) {  \n      const partyLen = partyTable.filter(y => mfrSearch.length === 0 || \"\".concat(\" \", y.SU_NAME, \" \", y.SU, \" \", y.MF, \" \", y.MF_NAME).search(mfrSearch) > 0).length        \n      if (entryPosition < partyLen)  \n          setEntryPosition(x=>x+1)             \n      else    \n          setEntryPosition(partyLen -1)                    \n    }\n\n    if ( event.key === \"ArrowUp\" ) {\n      if (entryPosition > -1)  \n        setEntryPosition(x=>x-1)       \n      else \n        setEntryPosition(0)           \n    }\n\n    if ( event.key === \"Enter\" ) {      \n      const partyList = partyTable.filter(y => mfrSearch.length === 0 || \"\".concat(\" \", y.SU_NAME, \" \", y.SU, \" \", y.MF, \" \", y.MF_NAME).search(mfrSearch) > 0) \n      const x = partyList[entryPosition]      \n      setEntryPosition(0)  \n      handleClick(x.SU, x.MF, x.SU_NAME, x.MF_NAME)        \n    }    \n  }\n\n  return (\n    // present the table\n    <Fragment>\n      {partyTable && selectingSupplier ? (\n        <div>\n          <div className=\"mfrSelection_header\"> Select a manufacturer below:</div>\n          <div className=\"mfrSelection_input\"  >\n            <input autoFocus  type=\"text\" id=\"mfrSearch\" name=\"mfrSearch\" value={mfrSearch || \"\"} justify=\"left\" onChange={handleMFRsearch} style={{ textTransform: \"uppercase\" }}                         \n              onKeyDown={handleKeyPressed}\n              placeholder=\"Type to search\" \n           />\n          </div>\n        </div>\n      ) : null}\n\n      {partyTable && selectingSupplier\n        ? partyTable\n            .filter(y => mfrSearch.length === 0 || \"\".concat(\" \", y.SU_NAME, \" \", y.SU, \" \", y.MF, \" \", y.MF_NAME).search(mfrSearch) > 0)\n            .map((x, index) => (\n              <div\n                className={\"mfrSelection\"}\n                key={index}\n                onClick={() => {\n                  handleClick(x.SU, x.MF, x.SU_NAME, x.MF_NAME)\n                }}              >  \n                <div className={\"mfrSelection_capitalize  mfrSelection_list \" + (entryPosition===index?\"mfrSelection_highlight\":null)}>\n                  <div> &nbsp; {(x.SU_NAME).toLowerCase()} ({x.SU}) </div>\n                  <div> {x.MF_NAME ? (x.MF_NAME).toLowerCase() : null} ({x.MF}) &nbsp; </div>                  \n                </div>  \n              </div>\n            ))\n        : null}\n    </Fragment>\n  )\n}\nexport default MfrSelection\n","import React, { useState, useEffect } from \"react\"\nimport DatePicker from \"react-datepicker\"\n\nconst Misc = props => {\n  const { setInspectionDate, inspectionDate, setMisc, misc, editMode, userProfile, qaName, productCategories } = props\n\n \n  const [isSQA, setISsqa] = useState(\"\")  \n\n\n  // Following is needed to make sure Inspection Date is not empty when it is a default and date is not selected in the calendar widget. \n  // Otherwise, inspection date will become empty captured in the Mongo DB.\n  useEffect(() => {\n\n\n    if (inspectionDate === \"\") {      \n      let d = new Date()    \n      const userTimezoneOffset = d.getTimezoneOffset() * 60000;\n      d = new Date(d.getTime() - userTimezoneOffset);           \n      setInspectionDate(d.toISOString().substring(0,10))          \n    }\n  }, [inspectionDate, setInspectionDate])\n  // \n  \n  useEffect(() => {\n    \n    //let newMisc = { ...misc }\n\n    //if (newMisc.qa_type === undefined) {\n                        \n    //    if (userProfile !==undefined && userProfile.email !==undefined  ){\n\n    //      if (userProfile.email.includes(\"@macys.com\")) {\n    //        newMisc =  { ...newMisc, qa_type : \"MQA\" }            \n    //        setMisc(newMisc)                   \n    //      }\n    //      else {            \n    //        newMisc = { ...newMisc,  qa_type : \"SQA\", sqa: userProfile.email,  governance_inspection: undefined, sqa_iteration: undefined, cap: undefined }       \n    //        setISsqa(true)        \n    //        setMisc(newMisc)                   \n    //      } \n\n    //    }         \n            \n    //}\n\n    //if (misc.qa_type === \"SQA\") {\n    //  setISsqa(true)\n    //}\n    \n  }, [misc, userProfile, setMisc])\n\n  // This is needed to mitigate the dates between browser (local time) and server (Mongo DB)\n  // When date (date.getTime) is selected, the date is based on UTC 00:00.  That could be the next day. \n  // Therefore, the offset has to be calcualted and be used to minus the date  \n  const dateToString = date => {      \n    const userTimezoneOffset = date.getTimezoneOffset() * 60000;\n    const d = new Date(date.getTime() - userTimezoneOffset);\n    //console.log('d', d.toISOString().substring(0,10))\n    setInspectionDate(d.toISOString().substring(0,10))    \n  }\n  \n  // This is needed to mitigate the dates between browser (local time) and server (Mongo DB)\n  // When date (date string) is captured, it is based on UTC 00:00. So the local time could become the previous day. \n  // Therefore, the offset has to be calcualted and be used to add to the date string   \n\n  const stringToDate = dateString => {    \n    let d = dateString       \n    if (d === \"\") {      \n      d = new Date()    \n      const userTimezoneOffset = d.getTimezoneOffset() * 60000;\n      d = new Date(d.getTime() - userTimezoneOffset);           \n      //setInspectionDate(d.toISOString().substring(0,10))          \n    }\n    else {\n      d = new Date(dateString)         \n      const userTimezoneOffset = d.getTimezoneOffset() * 60000;\n      d = new Date(d.getTime() + userTimezoneOffset);               \n    }\n    return d        \n  }\n  \n\n  // Misc Fields (Text) Capture\n  const handleChange = (element, yes_or_no) => event => {\n    let value = event.target.value\n\n    if (misc) {\n      let newMisc = { ...misc }\n      switch (element) {\n        case 2: //b\n          newMisc = { ...newMisc, product_type: value }\n          break    \n       \n        case 7: //g\n          newMisc = { ...newMisc, governance_inspection: yes_or_no }\n          break     \n \n        case 11: //k\n          newMisc = { ...newMisc, ship_window: value }\n          break\n   \n        case 15: //O\n          newMisc = { ...newMisc, qa_type: value }\n          if (value === \"SQA\") {\n              newMisc = { ...newMisc, qa_name: \"SQA\",  governance_inspection: undefined, sqa_iteration: undefined, cap: undefined }       \n              setISsqa(true)        \n          }\n          if (value === \"MQA\" && newMisc.mqa === undefined)  newMisc = { ...newMisc, qa_name: qaName }                \n          if (value === \"MQA\")  setISsqa(false)        \n          break\n        case 16: //p\n          newMisc = { ...newMisc, mqa: value }\n          break\n        case 17: //p\n          newMisc = { ...newMisc, sqa: value }\n          break\n     \n        case 19: //r\n          newMisc = { ...newMisc, product_category: value }\n          break\n        case 20: //s\n          newMisc = { ...newMisc, label: value }\n          break          \n        default:\n          console.log(\"No element\")\n      }\n      setMisc(newMisc)\n    }\n  }\n\n\n  return (\n    <div className=\"misc\">\n      \n      <div className=\"misc_a misc_grid_a \">\n        <div className=\"misc_title\">Governance Inspection (A)</div>\n        <div>\n          <input type=\"radio\" id=\"misc_governance_inspection_yes\" name=\"misc_governance_inspection\" value={misc.governance_inspection || \"\"} checked={misc.governance_inspection === \"Yes\"} onChange={handleChange(7, \"Yes\")} disabled={editMode && !isSQA ? \"\" : \"disabled\"} />\n        </div>\n        <div>Yes</div>\n        <div></div>\n        <div>\n          <input type=\"radio\" id=\"misc_governance_inspection_no\" name=\"misc_governance_inspection\" value={misc.governance_inspection || \"\"} checked={misc.governance_inspection === \"No\"} onChange={handleChange(7, \"No\")} disabled={editMode && !isSQA ? \"\" : \"disabled\"} />\n        </div>\n        <div>No</div>\n      </div>     \n\n      <div className=\"misc_b\">\n        <div className=\"misc_title misc_grid_b\">\n          <div>Inspection Date (B)</div>\n          <DatePicker className=\"datePicker\" dateFormat=\"MM/dd/yy\" selected={stringToDate(inspectionDate)} onChange={date => dateToString(date)} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n      </div>\n\n      <div className=\"misc_c misc_grid_c\">\n        <div className=\"misc_title\">Ship Window (C)</div>\n        <input type=\"text\" id=\"misc_shipWindow\" name=\"misc_shipWindow\" value={misc.ship_window || \"\"} justify=\"left\" placeholder=\"Ship Window\" onChange={handleChange(11)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_d\">\n        <div className=\"misc_title misc_grid_d\">\n          <div className=\"misc_title\">Inspection By (D)</div>\n          <select id=\"misc_qaType\" name=\"misc_qaType\" value={misc.qa_type || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(15)}>\n          <option value=\"Select\">Select</option>\n          <option value=\"MQA\">MQA</option>\n          <option value=\"SQA\">SQA</option>\n        </select>\n        </div>\n      </div>\n\n      <div className=\"misc_e misc_grid_e\">\n        <div className=\"misc_title\">Product Type (E)</div>\n        <input type=\"text\" id=\"misc_productType\" name=\"misc_productType\" value={misc.product_type || \"\"} justify=\"left\" placeholder=\"Product Type\" onChange={handleChange(2)} readOnly={editMode ? \"\" : \"readOnly\"} style={{ textTransform: \"uppercase\" }} />\n      </div>\n\n      <div className=\"misc_f misc_grid_f\">\n        <div className=\"misc_title\">{misc.qa_type === \"MQA\" || misc.qa_type === undefined ? <span>QA Name (F)</span> : <span>QA Name (F)</span>}</div>\n        {(misc.qa_type === \"MQA\")? (\n          <input type=\"text\" id=\"misc_mqa\" name=\"misc_mqa\" value={qaName || \"\"} justify=\"left\" placeholder=\"Inspector\" onChange={handleChange(17)} readOnly=\"readOnly\" />\n        ) :(misc.qa_type === undefined || misc.qa_type === \"Select\")? (\n          <input type=\"text\" id=\"misc_mqa\" name=\"misc_mqa\" value={\"\"} justify=\"left\" placeholder=\"Inspector\" onChange={handleChange(17)} readOnly=\"readOnly\" />\n        ) :\n        <input type=\"text\" id=\"misc_sqa\" name=\"misc_sqa\" value={\"SQA\" || \"\"} justify=\"left\" placeholder=\"Inspector\" onChange={handleChange(17)} readOnly=\"readOnly\" />\n        }\n      </div>\n \n      <div className=\"misc_g misc_grid_g\">\n        <div className=\"misc_title\">Brand (G)</div>\n        <input type=\"text\" id=\"misc_label\" name=\"misc_label\" value={misc.label || \"\"} justify=\"left\" onChange={handleChange(20)} readOnly={editMode ? \"\" : \"readOnly\"} style={{ textTransform: \"uppercase\" }} />\n      </div>\n\n      <div className=\"misc_h misc_grid_h\">\n        <div className=\"misc_title\">Product Category (H)</div>\n\n        <select id=\"misc_product_category\" name=\"misc_product_category\" value={misc.product_category || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(19)}>\n          <option value=\"Select\">Select</option>\n          {productCategories &&\n            productCategories.map(x => (\n              <option key={x.category} value={x.category} disabled={editMode ? \"\" : \"disabled\"}>\n                {x.category}\n              </option>\n            ))}\n        </select>\n      </div>      \n\n    </div>\n  )\n}\nexport default Misc\n","import React, { Fragment } from \"react\"\nimport  {Spinner}  from \"./Spinner\"\n\nconst ShowSpinner = props => {\n  const { position } = props\n\n  return (\n    <Fragment>\n      {position === 1 ? <Spinner area=\"getUserProfile\" spinnerMessage=\"Loading your profile, please wait... \" /> : null}\n      {position === 2 ? (\n        <div>\n          <Spinner area=\"printReport\" spinnerMessage=\"Preparing the report, please wait... \" />\n          <Spinner area=\"saveInspection\" spinnerMessage=\"Saving the changes, please wait... \" />\n          <Spinner area=\"deleteInspection\" spinnerMessage=\"Deleting, please wait... \" />\n          <Spinner area=\"createInspection\" spinnerMessage=\"Loading, please wait... \" />\n          <Spinner area=\"getMCtable\" spinnerMessage=\"Getting MC data, please wait... \" />\n        </div>\n      ) : null}\n      {position === 3 ? (\n        <div>\n          <Spinner area=\"sharePointFiles\" spinnerMessage=\"Refreshing SharePoint info, please wait... \" />\n          <Spinner area=\"downloadSharePointfiles\" spinnerMessage=\"Downloading SharePoint info, please wait... \" />        \n          <Spinner area=\"sharePointUpload\" spinnerMessage=\"Uploading file(s) to SharePoint, please wait... \" />  \n        </div>\n      ) : null}\n      {position === 4 ? <Spinner area=\"printReport\" spinnerMessage=\"Preparing the report, please wait... \" /> : null}\n      \n      {position === 10 ? <Spinner area=\"pastInspection\" spinnerMessage=\"Loading past inspections, please wait... \" /> : null}\n    </Fragment>\n  )\n}\nexport default ShowSpinner\n","import React, { useState, Fragment, useEffect, useRef  } from \"react\"\n\nimport axios from \"axios\"\n//import ItemTable from \"./components/ItemTable\"\nimport ItemTotal from \"./components/ItemTotal\"\nimport ShowAlert from \"./components/ShowAlert\" \nimport SearchKey from \"./components/SearchKey\"\nimport MainMenu from \"./components/MainMenu\"\nimport SearchedMC from \"./components/SearchedMC\"\nimport SupplierInfo from \"./components/SupplierInfo\"\nimport MfrSelection from \"./components/MfrSelection\"\nimport Misc from \"./components/Misc\"\n\n//#import { v4 as uuidv4 } from \"uuid\"\nimport { trackPromise } from \"react-promise-tracker\"\nimport ShowSpinner from \"./components/ShowSpinner\"\n\nconst App = () => {  \n  const initialInspectionID = { mc: \"\", booking_no: \"Select\", type: \"Select\" }\n  // Setting state\n  const [items, setItems] = useState([])\n  const [showSearchedMC, setShowSearchedMC] = useState(false)  \n  // set position 100 as impossible range as equivalent to empty\n  const [alert, setAlert] = useState({ position: 100 })\n  const [mcTable, setMCTable] = useState([])  \n  const [inspectionDate, setInspectionDate] = useState(\"\")\n  const [inspectionID, setInspectionID] = useState(initialInspectionID)\n\n  const [userProfile, setUserProfile] = useState([])\n  const [currentSU, setCurrentSU] = useState(\"\")\n  const [currentMF, setCurrentMF] = useState(\"\")\n  const [searchedMC, setSearchedMC] = useState([])\n\n  const [partyTable, setPartyTable] = useState([])\n  const [currentSUName, setCurrentSUName] = useState(\"\")\n  const [currentMFName, setCurrentMFName] = useState(\"\")\n  const [selectingSupplier, setSelectingSupplier] = useState(true)\n  const [mfList, setMfList] = useState([])\n  const [aqlTable, setAqlTable] = useState([])\n  const [editMode, setEditMode] = useState(false)\n  const [misc, setMisc] = useState({})\n  const [main, setMain] = useState({})\n  const [showFull, setShowFull] = useState(false)\n\n  const [updateHistory, setUpdateHistory] = useState([])\n \n  const [mfrSearch, setMFRsearch] = useState(\"\")\n  //const [mqaMembers, setMQAmembers] = useState(\"\")\n  const [factoryMasterTable, setfactoryMasterTable] = useState([])\n  const [qaName, setQAname] = useState(\"\")\n  const [productCategories, setProductCategories] = useState(\"\")\n  const [inspType, setInspType] = useState([])\n\n  const [ship, setShip] = useState([])\n  const [totalShip, setTotalShip] = useState(0)\n  const [totalInspect, setTotalInspect] = useState(0)\n  const [totalSample, setTotalSample] = useState(0)\n\n  const [poList, setPOList] = useState([])\n  const initLoad = useRef(false) // will check later if this can be removed\n\n  const currentSearchedItem = useRef(\"\")\n\n  const oldMC = useRef(false)\n  \n  const [checkedState, setCheckedState] = useState([])\n\n  const [entryPosition, setEntryPosition] = useState(-1)         \n \n    \n  // Data\n\n  useEffect(() => {\n    let root = document.querySelector(\":root\")\n    const userAgent = navigator.userAgent.toLowerCase()\n    const isTablet = /(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(userAgent)\n\n    // Remove padding of scroll width if it is tablet to make columns of ChangeTrack section aligned\n    if (isTablet) {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"7fr\")\n    } else {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"6.7fr\")\n    }\n\n    // check Safari browser\n    if (userAgent.includes(\"safari\") && userAgent.includes(\"macintosh\")) {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"7fr\")\n    }\n\n    trackPromise(\n      axios({\n        url: \"/api/getUserProfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        }\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\n      })\n        .then(response => response.data)\n        .then(response => {\n          setUserProfile(response[\"userProfile\"])\n          setMCTable(response[\"mcTable\"])\n          setPartyTable(response[\"partyTable\"])\n          setMfList(response[\"mfList\"])\n          setAqlTable(response[\"aqlTable\"])\n          //setMQAmembers(response[\"mqaMembers\"])  \n          setProductCategories(response[\"productCategories\"])\n          setInspType(response[\"inspType\"])\n          setfactoryMasterTable(response[\"factoryMaster\"])\n          //setQAname(response[\"qaName\"])\n        })\n        .catch(error => {\n          console.log(error)\n          setDisplayAlert({ message: \"Error getting user's profile at this moment, please try again !\", position: 0, timeout: 3000, color: \"alert__red\" })\n        }),\n      \"getUserProfile\"\n    )\n \n  }, [])\n\n \n\n \n\n  // handle highlight\n\n  const handleHighlight = search => {\n    search = search.trim()\n    var x = document.getElementsByClassName(\"itemTotal_Detail\")\n    var len = x.length    \n    var first_found = -1\n    var i, j, long, scroll_y    \n\n    for (j = 0; j < len; j++) {\n      x[j].style.backgroundColor = \"#0746f54d\" /*back to original color*/\n    }\n\n    for (i = 0; i < len; i++) {\n      //const currentChild = x[i].firstElementChild.innerHTML\n      //get the 2nd child which is the item column\n      const currentChild = x[i].getElementsByTagName(\"div\")[2].innerHTML\n      if (currentChild.includes(search) && search !== \"\") {\n        x[i].style.backgroundColor = \"yellow\"\n        if (first_found === -1) {\n          first_found = i\n        }\n      }\n    }\n\n    if (first_found > 0) {\n      document.getElementById(\"scroller\").scrollTo(0, 0)\n      long = document.getElementById(\"scroller\").scrollHeight\n      scroll_y = (long / len) * first_found\n      document.getElementById(\"scroller\").scrollBy(0, scroll_y)\n    }\n\n    x = document.getElementsByClassName(\"itemTable_Detail\")\n    len = x.length\n    first_found = -1\n\n    for (j = 0; j < len; j++) {\n      x[j].style.backgroundColor = \"#0746f54d\" /*back to original color*/\n    }\n\n    for (i = 0; i < len; i++) {\n      // children[2] is the item_no\n      const currentChild = x[i].children[2].innerHTML\n      if (currentChild.includes(search) && search !== \"\") {\n        x[i].style.backgroundColor = \"yellow\"\n        if (first_found === -1) {\n          first_found = i\n        }\n      }\n    }\n\n    if (first_found > 0) {\n      document.getElementById(\"itemTableScroller\").scrollTo(0, 0)\n      long = document.getElementById(\"itemTableScroller\").scrollHeight\n      scroll_y = (long / len) * first_found\n      document.getElementById(\"itemTableScroller\").scrollBy(0, scroll_y)\n    }\n  }\n\n  // **** handleAddItems ***//\n\n  const handleAddItems = aItems => {\n    //console.log(\"adding item\", aItems)\n    oldMC.current = false\n\n    const oItems = [...items]\n    const nItems = oItems.concat(aItems)\n    setItems(nItems)\n\n    //console.log('nItems', nItems)\n\n    const nShipItems = ship.concat(aItems.map(x => ({ mc_no: x.mc_no, po_no: x.po_no, order_qty: x.order_qty, item_no: x.item_no, ship_qty: x.ship_qty })))\n    // reconstruct ship\n\n    const total_qty = nShipItems.reduce((prev, curr) => prev + parseInt(curr.ship_qty), 0)\n    \n    const aql = aqlTable.filter(x => x.size_start <= total_qty && x.size_end >= total_qty)\n\n    const nShip = nShipItems.map(x => ({ ...x, sample_qty: Math.round((x.ship_qty / total_qty) * aql[0][\"25sample\"]), inspect_qty: Math.round((x.ship_qty / total_qty) * aql[0][\"25sample\"]) }))\n    //console.log(\"handleAddItems setShip\")\n    setShip(nShip)\n\n  \n\n    // reconstruct PO based on ship rec (existing and newly added)\n    let poList = []\n    let pos = nShip.map(x => x.po_no)\n    let uniquePO = pos.filter((v, i, a) => a.indexOf(v) === i)\n\n    uniquePO.forEach(function (u) {\n      const mc_no = nItems.filter(x => x.po_no === u)[0][\"mc_no\"]\n      const order_qty = nItems.filter(x => x.po_no === u).reduce((prev, curr) => prev + parseInt(curr.order_qty), 0)\n      const ship_qty = nShip.filter(x => x.po_no === u).reduce((prev, curr) => prev + parseInt(curr.ship_qty), 0)\n      const customer = nItems.filter(x => x.po_no === u)[0][\"customer\"]\n      poList.push({ mc_no: mc_no, po_no: u, order_qty: order_qty, ship_qty: ship_qty, customer: customer })\n    })\n    setPOList(poList)\n  }\n    \n  const deleteShipMulti = (nShip) => {   \n    handleHighlight(\"\")\n    const total_qty = nShip.reduce((prev, curr) => prev + parseInt(curr.ship_qty), 0) // total new ship qty\n    const aql = aqlTable.filter(x => x.size_start <= total_qty && x.size_end >= total_qty)\n    nShip = nShip.map(x => ({ ...x, sample_qty: Math.round((x.ship_qty / total_qty) * aql[0][\"25sample\"]), inspect_qty: Math.round((x.ship_qty / total_qty) * aql[0][\"25sample\"]) }))\n    setShip(nShip)\n\n    let nItems = [...items]    \n    // reconstruct1 - reconstruct PO based on ship rec (existing and newly added)\n    let poList = []\n    let pos = nShip.map(x => x.po_no)\n    let uniquePO = pos.filter((v, i, a) => a.indexOf(v) === i)\n\n    uniquePO.forEach(function (u) {\n      const mc_no = nItems.filter(x => x.po_no === u)[0][\"mc_no\"]\n      const order_qty = nItems.filter(x => x.po_no === u).reduce((prev, curr) => prev + parseInt(curr.order_qty), 0)\n      const ship_qty = nShip.filter(x => x.po_no === u).reduce((prev, curr) => prev + parseInt(curr.ship_qty), 0)\n      const customer = nItems.filter(x => x.po_no === u)[0][\"customer\"]\n      poList.push({ mc_no: mc_no, po_no: u, order_qty: order_qty, ship_qty: ship_qty, customer: customer })\n    })\n    setPOList(poList)    \n\n    // remove MCs in items list that do not exists in ship rec    \n    const ships = nShip.map(y => y.mc_no)\n    const uniqueShipMCs = ships.filter((v, i, a) => a.indexOf(v) === i)\n    //console.log(\"uniqueShip1\", uniqueShipMCs)\n    //console.log(\"items before\", nItems)   \n    setItems(nItems.filter(n => uniqueShipMCs.includes(n.mc_no)))\n \n  }\n\n  const handleDeletePO = (mc_no, po_no) => {\n    handleHighlight(\"\")\n    let nShip = [...ship]\n    nShip = nShip.filter(x => x.po_no !== po_no)\n\n    // recalculate sample added 4/6/2022\n    nShip = ship.filter(x => !(x.po_no === po_no))\n    const total_qty = nShip.reduce((prev, curr) => prev + parseInt(curr.ship_qty), 0) // total new ship qty\n    const aql = aqlTable.filter(x => x.size_start <= total_qty && x.size_end >= total_qty)\n    nShip = nShip.map(x => ({ ...x, sample_qty: Math.round((x.ship_qty / total_qty) * aql[0][\"25sample\"]), inspect_qty: Math.round((x.ship_qty / total_qty) * aql[0][\"25sample\"]) }))\n    //console.log(\"handleDeleteShip setShip\")\n\n    setShip(nShip)\n    setPOList(x => x.filter(x => x.po_no !== po_no))\n\n    // remove MCs in PO List that do not exists in Ship rec\n    const item1 = items.map(y => y.mc_no)\n    const uniqueItem1 = item1.filter((v, i, a) => a.indexOf(v) === i)\n    //console.log(\"uniqueItem2\", uniqueItem1)\n\n    const ship1 = nShip.map(y => y.mc_no)\n    const uniqueShip1 = ship1.filter((v, i, a) => a.indexOf(v) === i)\n    //console.log(\"uniqueShip2\", uniqueShip1)\n\n    if (uniqueItem1.length > uniqueShip1.length) {\n      setItems(x => x.filter(x => x.mc_no !== mc_no))\n      //console.log(\"delete MC in items 2\", mc_no)\n    }\n  }\n\n  // update Total Ship/Inspect,  item, ship - not relevant\n  useEffect(() => {\n    let oList = [...ship]\n    const nShipQty = oList.reduce((prev, curr) => prev + parseInt(curr.ship_qty), 0)\n    const nInspectQty = oList.reduce((prev, curr) => prev + parseInt(curr.inspect_qty), 0)\n    setTotalShip(nShipQty)\n    setTotalInspect(nInspectQty)\n    if (nShipQty > 0) {\n      const aql = aqlTable.filter(x => x.size_start <= nShipQty && x.size_end >= nShipQty)\n      const nSampleQty = aql[0][\"25sample\"]\n      setTotalSample(nSampleQty)\n    } else setTotalSample(0)\n  }, [ship, aqlTable])\n\n\n  // reset inspection qty\n  const reset = () => {\n    setShip(prev => prev.map(x => ({ ...x, inspect_qty: x.sample_qty })))\n  }\n\n  /**** */\n\n  const handleSupplierInfo = (su, mf) => {\n    partyTable.map(x => (x.SU === su ? setCurrentSUName(x.SU_NAME) : null))\n    partyTable.map(x => (x.MF === mf ? setCurrentMFName(x.MF_NAME) : null))\n    factoryMasterTable.map(x => ((x.mf_no === mf && x.su_no === su) ? setQAname(x.mqa) : null))\n  }\n\n  // add a new MC to inspection\n  const addMC = mc_no => {\n    /*   */\n    const newMC = mcTable.filter(x => x.mc_no === mc_no)\n    handleAddItems(newMC)\n\n    //ship_window = newMC[0].ship_window\n    let ship_window\n    if (misc.ship_window === undefined || misc.ship_window.length === 0) {\n      //console.log(\"ship window is blank\")\n      ship_window = newMC[0].ship_window\n    } else {\n      //console.log(\"ship window is not blank\")\n      ship_window = misc.ship_window.concat(\", \").concat(newMC[0].ship_window)\n    }\n\n    //const fibre_content = newMC[0].fabric_note\n    const product_type = newMC[0].item_desc\n    //console.log(\"product_type : \", newMC[0], product_type)\n\n    // in case new MC has no fibre content, keep the original one\n    // let fibre_content = misc.fibre_content\n    // for (let i = 0; i < newMC.length; i++) {\n    //   if (newMC[i].fabric_note.length > 0) {\n    //     fibre_content = newMC[i].fabric_note\n    //     break\n    //   }\n    // }\n\n    const label = newMC[0].label\n\n\n    setMisc({ ...misc, ship_window, product_type, label })\n    handleSupplierInfo(currentSU, currentMF)\n    setShowFull(true)\n    setEditMode(true)  \n    setInspectionDate(\"\")\n  }\n\n\n\n  const setDisplayAlert = alert => {  \n    setAlert(alert)\n    setTimeout(function () {\n      setAlert({ position: 100 })\n    }, alert.timeout)\n  }\n\n  const handleSave = (submitted, saveAndEdit) => {    \n    // Validate before save\n    if ((misc.qa_type === undefined || misc.qa_type === \"Select\"))  { \n      setDisplayAlert({ message: \"Inpsected By (D) must be selected !\", position: 0, timeout: 3000, color: \"alert__red\" })\n      setEditMode(true)\n      return\n    }\n\n    // Convert inspection date to time 00.00.00    \n    //const main = { su_no: currentSU, mf_no: currentMF, inspection_date: inspectionDate.toDateString(), submitted: submitted }\n    //console.log('inspection Date', inspectionDate)\n    const main = { su_no: currentSU, mf_no: currentMF, inspection_date: inspectionDate , submitted: submitted }\n    const _id = { mc: inspectionID.mc, booking_no: inspectionID.booking_no, type: inspectionID.type }\n    let newMisc = { ...misc }\n    newMisc = { ...newMisc}\n    \n    trackPromise(\n      axios({\n        url: \"/booking/api/save\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        //data: JSON.stringify({ _id: _id, main: main, misc: newMisc, mf: currentMF, checkList: checkList, items: items, itemsTotal: ship, poList: poList, defects: defects, uploads: uploads, updateHistory: updateHistory })\n        data: JSON.stringify({ _id: _id, main: main, misc: newMisc, mf: currentMF,  items: items, itemsTotal: ship, poList: poList,  updateHistory: updateHistory,  folder: \"SU\" + currentSU + \"MF\" + currentMF, inspection_id: inspectionID.mc + \"-\" + inspectionID.type, email: userProfile.email, localTime: convertToLocal(Date.now()) })\n      })\n        .then(response => {\n          if (response.status === 200){\n          setDisplayAlert({ message: \"Saved Successfully !\", position: 0, timeout: 1000, color: \"alert__green\" })\n            if (saveAndEdit) {                           \n              setEditMode(true)\n            }\n            else {           \n                clearScreen()\n            }     \n          } else {\n            let errMessage = response.data\n            setDisplayAlert({ message: errMessage, position: 0, timeout: 4000, color: \"alert__red\" })\n            setEditMode(true)\n          } \n        })\n        .catch(err => {                \n          let errMessage = \"There was an error saving this record, please contact the admin !!\"\n          if (err.message.includes(\"500\")) {\n                errMessage = err.response.data                \n          }                \n          else {\n            setDisplayAlert({ message: errMessage, position: 0, timeout: 4000, color: \"alert__red\" })\n          }\n          setDisplayAlert({ message: errMessage, position: 0, timeout: 4000, color: \"alert__red\" })\n        }),\n      \"saveInspection\"\n    )\n  \n  }\n\n  const handleSearch = id => {\n    //console.log(\"entering api/search\")\n\n    trackPromise(\n      axios({\n        url: \"/booking/api/search\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        // .then(response => {\n        //   console.log(\"status\", response.status)\n        // })\n        .then(response => response.data)\n        .then(response => {\n          //  Below to check whehter MC is valid or obsolete MC\n          oldMC.current = false\n\n          const response_mf = response[\"main\"][\"mf_no\"]\n\n                    \n          if (response[\"items\"].length === 0 && response_mf === currentMF) {\n            // in case all were deleted, we still want to show\n            console.log(\"Empty inspection record with mf# :\", response_mf)\n          } else {\n            if (response_mf !== currentMF) {\n              setDisplayAlert({ message: \"This MC does not belong to this manufacturer!\", position: 0, timeout: 1500, color: \"alert__red\" })\n              return\n            }            \n            if (mcTable.filter(x => x.mc_no === id.mc).length === 0) {\n              oldMC.current = true\n            }\n          }\n          \n          setShowFull(true)          \n          initLoad.current = true          \n          setItems(response[\"items\"])\n          setShip(response[\"itemsTotal\"])\n          setPOList(response[\"poList\"])\n          setInspectionDate(response[\"main\"].inspection_date)\n          setMain(response[\"main\"])\n          setMisc(response[\"misc\"] ? response[\"misc\"] : {})\n\n\n          handleSupplierInfo(response[\"main\"].su_no, response[\"main\"].mf_no)\n\n          if (response[\"update_history\"] === undefined) {\n            setUpdateHistory([])\n          } else {\n            setUpdateHistory(response[\"update_history\"])\n          }\n      \n          // initalizae the all the item rows of selected = false \n          const new_checkState = new Array(response[\"itemsTotal\"].length).fill(false)          \n          setCheckedState(new_checkState)\n        })\n        .catch(err => {\n          //console.log(\"err\", err.response.status)\n          if (err.response.status === 406) {\n            setDisplayAlert({ message: \"Not a valid MC for this manufacturer !\", position: 0, timeout: 2000, color: \"alert__red\" })\n          } else if (err.response.status === 501) {\n            window.location = \"/login/timeout\"\n          } else setDisplayAlert({ message: \"No such Inspection ID, please try again !\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"searchKey\"\n    )\n  }\n\n  const handleDelete = id => {\n    var confirm = window.confirm(\"Are you sure you want to delete this inspection ? \")\n    if (confirm !== true) {\n      return\n    }\n    trackPromise(\n      axios({\n        url: \"/booking/api/delete\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        .then(response => (response.status === 200 ? (clearScreen(), setDisplayAlert({ message: \"Deleted successfully !\", position: 0, timeout: 1500, color: \"alert__green\" })) : null))\n        .catch(err => {\n          setDisplayAlert({ message: \"Error deleting the inspection ID !\", position: 0, timeout: 1500, color: \"alert__red\" })\n        }),\n      \"deleteInspection\"\n    )\n  }\n\n  const clearScreen = () => {\n    setItems([])\n    setShip([])\n    setPOList([])\n    setSearchedMC([])    \n    setShowSearchedMC(false)\n    setMisc([])    \n    setMain([])\n    setShowFull(false)\n    setEditMode(false)\n    currentSearchedItem.current = \"\"\n    document.getElementById(\"itemTable_MC\").value = \"\"\n    if (document.getElementById(\"itemTotal_searchString\")) {\n      document.getElementById(\"itemTotal_searchString\").value = \"\"\n    }        \n    setCheckedState([])   \n  }\n\n  // ** implement delay function\n  const delay = ms => new Promise(res => setTimeout(res, ms))\n\n  const handleSessionTimeOut = async () => {\n    setDisplayAlert({ message: \"Session timeout, please login again !\", position: 0, timeout: 3000, color: \"alert__red\" })\n    await delay(3000)\n    window.location = \"/login/timeout\"\n  }\n\n  const searchInspByMC = mc => {\n    setShowSearchedMC(true)\n\n    trackPromise(\n      //fetch(\"/api/searchInspByMC\", {\n      axios({\n        url: \"/booking/api/searchInspByMC\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ mc: mc, mfList: mfList })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setSearchedMC(response) \n        })\n        .catch(err => {\n          //console.log('err', err)\n          err.response.status === 501 ? handleSessionTimeOut() : setDisplayAlert({ message: \"Something went wrong !\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"mfrSelection\"\n    )\n  }\n\n  \n  const printReport = (file_name, draft) => {\n    //event.preventDefault()\n    if (misc.qa_type === undefined) {\n      setDisplayAlert({ message: \"QA Type must be chosen !\", position: 0, timeout: 2000, color: \"alert__red\" })\n      return\n    }\n\n    if (misc.qa_type === \"MQA\" && (qaName === undefined || qaName === \"Select\")) {\n      setDisplayAlert({ message: \"Some Errors on QA Name (F) !\", position: 0, timeout: 2000, color: \"alert__red\" })\n      return\n    }\n\n    // \"10/10/22 by VC\" - Per request, word \"Draft\" in the file name will be taken away but the code is still there in case it has to restored  \n    file_name = \"Booking Report for - \" + inspectionID[\"mc\"] + \"-\" + inspectionID[\"booking_no\"] + \"-\" + inspectionID[\"type\"] + \"-\"  + misc.qa_type  + (draft ? \"\" : \"\") + \".xlsx\"\n    // let qa_type = misc.qa_type\n\n    trackPromise(\n      fetch(\"/booking/api/printreport\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/octet-stream\",\n          \"Content-Disposition\": \"attachment\",\n          \"Cache-Control\": \"no-cache\",\n          inspectionID: JSON.stringify({ inspectionID }),\n          reportType: JSON.stringify(\"Single\"),\n          localTime: JSON.stringify(convertToLocal(Date.now()))\n        }\n      })\n        .then(response => response.blob())\n        .then(blob => {\n          // Create blob link to download\n          const url = window.URL.createObjectURL(new Blob([blob]))\n          const link = document.createElement(\"a\")\n          link.href = url\n          link.setAttribute(\"download\", file_name)\n\n          // Append to html link element page\n          document.body.appendChild(link)\n\n          // Start download\n          link.click()\n\n          // Clean up and remove the link\n          link.parentNode.removeChild(link)\n        }),\n      \"printReport\"\n    )\n  }\n\n  \n  \n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 0, timeout: 3000, color: \"alert__red\" })\n  }\n\n  const checkDuplicateID = id => {\n    trackPromise(\n      axios({\n        url: \"/booking/api/checkDuplicateID\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      }).then(res => (res.status === 200 ? displayAlert(\"This key has been used by previous inspection ! Please check and or consider a new booking number!\") : addMC(id.mc))),\n      \"createInspection\"\n    )\n  }\n\n \n\n  const getMCtable = (su, mf) => {\n    trackPromise(\n      axios({\n        url: \"/booking/api/getMCtable\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ su: su, mf: mf })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setMCTable(response)\n        })\n        .catch(err => {\n          setDisplayAlert({ message: \"Error getting MC\", position: 4, timeout: 1500, color: \"alert__red\" })\n        }),\n      \"getMCtable\"\n    )\n  }\n\n\n  // convert to local time\n  function convertToLocal(date) {\n    const t = new Date(date).toTimeString()\n    const d = new Date(date).toDateString()\n    var local = d + \" \" + t\n    var local_end = local.search(\"GMT+\") - 1\n    local = local.substring(0, local_end)\n    return local\n  }\n\n  \n  return (\n    <Fragment>\n      {/* <UserProfile userProfile={userProfile} /> */}\n      <SupplierInfo currentSU={currentSU} currentMF={currentMF} currentSUName={currentSUName} currentMFName={currentMFName} setSelectingSupplier={setSelectingSupplier} setShowFull={setShowFull} setMFRsearch={setMFRsearch} \n            setEntryPosition={setEntryPosition} \n      />\n      <MfrSelection partyTable={partyTable} setCurrentSU={setCurrentSU} setCurrentMF={setCurrentMF} setCurrentSUName={setCurrentSUName} setCurrentMFName={setCurrentMFName} selectingSupplier={selectingSupplier} setSelectingSupplier={setSelectingSupplier} setMFRsearch={setMFRsearch} mfrSearch={mfrSearch} getMCtable={getMCtable} setEditMode={setEditMode} \n            entryPosition={entryPosition} setEntryPosition={setEntryPosition}  \n      />\n      <ShowSpinner position={1} />\n\n      {!selectingSupplier? (\n      <MainMenu handleSave={handleSave} handleSearch={handleSearch} inspectionID={inspectionID} handleDelete={handleDelete} printReport={printReport} editMode={editMode} setEditMode={setEditMode} userProfile={userProfile} main={main} misc={misc} showFull={showFull} clearScreen={clearScreen} setDisplayAlert={setDisplayAlert} oldMC={oldMC}   />\n      ) : null}\n\n      {!selectingSupplier? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <Fragment>\n              {/* <h2>Search Inspection</h2> */}\n              <SearchKey checkDuplicateID={checkDuplicateID} mcTable={mcTable} setDisplayAlert={setDisplayAlert} inspectionID={inspectionID} setInspectionID={setInspectionID} clearScreen={clearScreen} searchInspByMC={searchInspByMC} currentSU={currentSU} currentMF={currentMF} editMode={editMode} inspType={inspType} showFull={showFull} />\n\n              {showSearchedMC ? <SearchedMC inspectionID={inspectionID} setInspectionID={setInspectionID} handleSearch={handleSearch} searchInspByMC={searchInspByMC} searchedMC={searchedMC} setShowSearchedMC={setShowSearchedMC} currentMF={currentMF} /> : null}\n            </Fragment>\n          </div>\n        </div>\n      ) : null}\n      \n      {alert.position === 0 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <ShowSpinner position={2} />\n\n      \n      {/* Misc section with inspection Date  */}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <Fragment>\n            <Misc setInspectionDate={setInspectionDate} inspectionDate={inspectionDate} setMisc={setMisc} misc={misc} editMode={editMode} qaName={qaName} productCategories={productCategories} userProfile={userProfile} items={items}></Misc>\n          </Fragment>\n        </div>\n      </div>\n\n      {alert.position === 1 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <ItemTotal setItems={setItems} items={items} mcTable={mcTable} addMC={addMC} currentSU={currentSU} currentMF={currentMF} editMode={editMode} aqlTable={aqlTable} setDisplayAlert={setDisplayAlert} ship={ship} setShip={setShip} poList={poList} setPOList={setPOList} totalShip={totalShip} setTotalShip={setTotalShip} totalInspect={totalInspect} setTotalInspect={setTotalInspect} totalSample={totalSample} setTotalSample={setTotalSample} reset={reset} handleDeletePO={handleDeletePO} handleHighlight={handleHighlight}           \n          checkedState={checkedState}  setCheckedState={setCheckedState} deleteShipMulti={deleteShipMulti} />\n        </div>\n      </div>\n      {alert.position === 5 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      {alert.position === 2 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      {alert.position === 3 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">          \n          <ShowSpinner position={3} />\n        </div>\n      </div>\n\n      {alert.position === 4 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\nexport default App\n","import React from \"react\"\r\n\r\nconst Home = props => {\r\n  //const { env } = props\r\n\r\n  return (\r\n    <div className=\"welcome\">\r\n      <div>\r\n         <img src=\"/static/img/booking.jpeg\" aria-hidden alt=\"MMG Overseas Booking\"  style={{ width: \"100%\", height: \"103%\", border: 0 }}  />                         \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Home\r\n","import React, { Fragment, useState, useEffect } from \"react\"\n\nconst UserProfile = props => {\n  const { userProfile} = props\n  const [photoURL, setPhotoURL] = useState(\"\")\n  \n  useEffect(() => {\n    setPhotoURL(\"/api/getPhoto/\" + userProfile.email)              \n  }, [userProfile.email])\n\n \n  return (\n    \n    <Fragment>      \n            <div className={\"userProfile \".concat(userProfile.databaseSchema === 'dev' ? 'userProfile_dev_color' : 'userProfile_prod_color')}>\n            <div className=\"userProfile_d userProfile_grid_d\">\n                  <img src={userProfile.databaseSchema === 'dev' ? \"static/img/macys_red_icon.png\":  \"static/img/macys_blue_icon.png\"} alt=\"\" height=\"60\"  />\n            </div>\n            <div className=\"userProfile_e userProfile_grid_e\">                \n                inspection booking@mmgoverseas\n            </div>    \n            <div className=\"userProfile_b userProfile_grid_b \">            \n                  {userProfile.userName}\n            </div>  \n            <div className=\"userProfile_c userProfile_grid_c\" >                \n            </div>        \n          <div className=\"userProfile_a userProfile_grid_a\"><img src={photoURL ? photoURL: \"static/img/anonymous.jpg\"} aria-hidden alt=\"...\" width=\"60\" height=\"60\" /> </div>   \n        </div>\n    </Fragment>\n  )\n}\n\nexport default UserProfile\n","import { Route, Routes, HashRouter as Router, Link } from \"react-router-dom\"\nimport React, { useState, useEffect } from \"react\"\nimport axios from \"axios\"\nimport AppBooking from \"./AppBooking\"\nimport Home from \"./Home\"\nimport UserProfile from \"./components/UserProfile\"\nimport { trackPromise } from \"react-promise-tracker\"\nimport ShowSpinner from \"./components/ShowSpinner\"\n\nconst logout = () => {\n  localStorage.clear()\n  window.location = \"/logout\"\n}\n\n// convert to local time\nfunction convertToLocal(date) {\n  const t = new Date(date).toTimeString()\n  const d = new Date(date).toDateString()\n  var local = d + \" \" + t\n  var local_end = local.search(\"GMT+\") - 1\n  local = local.substring(0, local_end)\n  return local\n}\n\n// get report period date time\n// calling : getReportStartDate(convertToLocal(Date.now()))\nfunction getReportStartDate(date) {\n  const localDate = new Date(date)\n  // calculate the number of days until the next Sunday\n  const daysUntilNextSunday = 7 - localDate.getDay()\n  // add the number of days to the input date to get the next Sunday date\n  const nextSundayDate = new Date(localDate.getTime() + daysUntilNextSunday * 24 * 60 * 60 * 1000)\n  // format the date as \"mm/dd\"\n  const month = nextSundayDate.getMonth() + 1\n  const day = nextSundayDate.getDate()\n  const formattedDate = month.toString().padStart(2, '0') + '.' + day.toString().padStart(2, '0')\n  return formattedDate\n}\n\n// calling : getReportEndDate(convertToLocal(Date.now()))\nfunction getReportEndDate(date) {\n  const localDate = new Date(date)\n  // add the number of days to the input date to get the next Saturday date\n  const nextSaturdayDate = new Date(localDate.getTime() + (6 - localDate.getDay() + 7) * 24 * 60 * 60 * 1000)\n  // add the number of days to the next Saturday date to get the next next Saturday date\n  const nextNextSaturdayDate = new Date(nextSaturdayDate.getTime() + 7 * 24 * 60 * 60 * 1000)\n  // format the date as \"mm/dd\"\n  const month = nextNextSaturdayDate.getMonth() + 1\n  const day = nextNextSaturdayDate.getDate()\n  const formattedDate = month.toString().padStart(2, '0') + '.' + day.toString().padStart(2, '0')\n  return formattedDate\n}\n\nconst App = () => {\n\n  const [userProfile, setUserProfile] = useState({})\n  const [spinnerOn, setSpinnerOn] = useState(false)\n  const [bookingOn, setBookingOn] = useState(false)\n  const [homeOn, setHomeOn] = useState(false)\n\n  useEffect(() => {\n    \n\n\n    trackPromise(\n      axios({\n        url: \"/api/getUserProfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        }\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\n      })\n        .then(response => response.data)\n        .then(response => {\n          setUserProfile(response[\"userProfile\"])\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    )\n\n  }, [])\n\n  const handlePrintBooking = (file_name) => {\n\n\n    var report_period = \"(\" + getReportStartDate(convertToLocal(Date.now())) + \" - \" + getReportEndDate(convertToLocal(Date.now())) + \")\"\n\n    file_name = \"Booking Report for \"+ userProfile[\"userName\"] + \" \" + report_period + \".xlsx\"\n\n    // Make Global variable to turn on spinner\n    setSpinnerOn(true)\n  \n    trackPromise(\n      fetch(\"/booking/api/printreport\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/octet-stream\",\n          \"Content-Disposition\": \"attachment\",\n          \"Cache-Control\": \"no-cache\",\n          reportType: JSON.stringify(\"Multiple\"),\n          userProfile: JSON.stringify(userProfile),\n          localTime: JSON.stringify(convertToLocal(Date.now()))\n        }\n      })\n        .then(response => response.blob())\n        .then(blob => {\n          // Create blob link to download\n          const url = window.URL.createObjectURL(new Blob([blob]))\n          const link = document.createElement(\"a\")\n          link.href = url\n          link.setAttribute(\"download\", file_name)\n\n          // Append to html link element page\n          document.body.appendChild(link)\n\n          // Start download\n          link.click()\n\n          // Clean up and remove the link\n          link.parentNode.removeChild(link)\n\n          // Make Global variable to turn on spinner\n          setSpinnerOn(false)\n        }),\n      \"printReport\"\n    )\n  }\n\n  function handleBooking() {\n    setBookingOn(true)\n    setHomeOn(false)\n  }\n\n  function handleHome() {\n    setBookingOn(false)\n    setHomeOn(true)\n  }\n\n\n  return (\n    <div className=\"container\">\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <UserProfile userProfile={userProfile} />\n          <Router>\n            <nav>\n              <ul className=\"app_header\">\n                <li>\n                  <Link to=\"/\" onClick={handleHome}  className=\"link\">\n                    Home\n                  </Link>\n                </li>\n                <li>\n                  <Link to=\"/appBooking\" onClick={handleBooking} className=\"link\">\n                    Booking\n                  </Link>\n                </li>\n                <li id=\"print-booking-btn\" onClick={handlePrintBooking} className=\"link\">\n                    Print Booking\n                </li>\n                <button\n                  className=\"fa fa-sign-out\"\n                  onClick={() => {\n                    logout()\n                  }}\n                >\n                  Logout\n                </button>\n                {/* <div className=\"userProfile_photo\">{userProfile.email ? userProfile.email.includes(\"@macys.com\") ? <img src={\"/api/getPhoto\"} aria-hidden alt=\"Searching for photo...\" width=\"60\" height=\"60\" /> : <img src=\"static/img/anonymous.jpg\" aria-hidden alt=\"No factory photo !!\" width=\"60\" height=\"60\" /> : <div>Searching for photo...</div>} </div>*/}\n              </ul>\n            </nav>\n            {spinnerOn === false ?\n              <Routes>\n                <Route path=\"/\" element={<Home env={userProfile.environment} />} />\n                <Route path=\"/appBooking\" element={<AppBooking />} />\n              </Routes> \n            : bookingOn === true && homeOn === false ?\n              <Routes>\n                <Route path=\"/appBooking\" element={<AppBooking />} />\n              </Routes>\n            : \n              <ShowSpinner position={4} />\n            }\n          </Router>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./css/main.css\"\nimport \"./css/index.css\"\nimport \"./css/searchKey.css\"\nimport \"./css/mainMenu.css\"\nimport \"./css/searchedMC.css\"\nimport \"./css/userProfile.css\"\nimport \"./css/supplierInfo.css\"\nimport \"./css/itemTable.css\"\nimport \"./css/itemTotal.css\"\nimport \"./css/misc.css\"\nimport \"./css/mfrSelection.css\"\nimport \"./css/react-datepicker.css\"\nimport \"./css/appBooking.css\"\nimport \"./css/app.css\"\n\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}